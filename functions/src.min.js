(async()=>{if(!secrets.api)throw Error("no API");const c={Avalanche:"14767482510784806043",Ethereum:"16015286601757825753",Base:"10344971235874465080"},a=Object.keys(c);try{const r=await Functions.makeHttpRequest({url:secrets.api,method:"POST",headers:{"Content-Type":"application/json"},data:{symbol:"USDC",projects:["aave-v3","compound-v3"],chains:a},timeout:9e3});if(r.error||!r.data||!r.data.chain)return Functions.encodeString(JSON.stringify(r));const p=r.data;if(!a.includes(p.chain)||!["aave-v3","compound-v3"].includes(p.project)){const s=Functions.encodeUint256(BigInt(0)),i=new Uint8Array(32),t=new Uint8Array(64);return t.set(s,0),t.set(i,32),t}const s=Functions.encodeUint256(BigInt(c[p.chain]||"0"));let i;try{const e=await import("npm:ethers@5.7.2"),b=e.utils.toUtf8Bytes(p.project),y=e.utils.arrayify(e.utils.keccak256(b));i=new Uint8Array(32),i.set(y,0)}catch(e){}const t=new Uint8Array(64);return t.set(s,0),t.set(i,32),t}catch(e){return Functions.encodeString(e.message)}})();